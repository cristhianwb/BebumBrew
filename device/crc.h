#include <avr/pgmspace.h>
#include <stdint.h>

typedef uint8_t crc;
#define WIDTH  (8 * sizeof(crc))


static const uint8_t crcTable[] PROGMEM = { 
    0x0, 0xd8, 0x68, 0xb0, 0xd0, 0x8, 0xb8, 0x60, 0x78, 0xa0, 
    0x10, 0xc8, 0xa8, 0x70, 0xc0, 0x18, 0xf0, 0x28, 0x98, 0x40, 
    0x20, 0xf8, 0x48, 0x90, 0x88, 0x50, 0xe0, 0x38, 0x58, 0x80, 
    0x30, 0xe8, 0x38, 0xe0, 0x50, 0x88, 0xe8, 0x30, 0x80, 0x58, 
    0x40, 0x98, 0x28, 0xf0, 0x90, 0x48, 0xf8, 0x20, 0xc8, 0x10, 
    0xa0, 0x78, 0x18, 0xc0, 0x70, 0xa8, 0xb0, 0x68, 0xd8, 0x0, 
    0x60, 0xb8, 0x8, 0xd0, 0x70, 0xa8, 0x18, 0xc0, 0xa0, 0x78, 
    0xc8, 0x10, 0x8, 0xd0, 0x60, 0xb8, 0xd8, 0x0, 0xb0, 0x68, 
    0x80, 0x58, 0xe8, 0x30, 0x50, 0x88, 0x38, 0xe0, 0xf8, 0x20, 
    0x90, 0x48, 0x28, 0xf0, 0x40, 0x98, 0x48, 0x90, 0x20, 0xf8, 
    0x98, 0x40, 0xf0, 0x28, 0x30, 0xe8, 0x58, 0x80, 0xe0, 0x38, 
    0x88, 0x50, 0xb8, 0x60, 0xd0, 0x8, 0x68, 0xb0, 0x0, 0xd8, 
    0xc0, 0x18, 0xa8, 0x70, 0x10, 0xc8, 0x78, 0xa0, 0xe0, 0x38, 
    0x88, 0x50, 0x30, 0xe8, 0x58, 0x80, 0x98, 0x40, 0xf0, 0x28, 
    0x48, 0x90, 0x20, 0xf8, 0x10, 0xc8, 0x78, 0xa0, 0xc0, 0x18, 
    0xa8, 0x70, 0x68, 0xb0, 0x0, 0xd8, 0xb8, 0x60, 0xd0, 0x8, 
    0xd8, 0x0, 0xb0, 0x68, 0x8, 0xd0, 0x60, 0xb8, 0xa0, 0x78, 
    0xc8, 0x10, 0x70, 0xa8, 0x18, 0xc0, 0x28, 0xf0, 0x40, 0x98, 
    0xf8, 0x20, 0x90, 0x48, 0x50, 0x88, 0x38, 0xe0, 0x80, 0x58, 
    0xe8, 0x30, 0x90, 0x48, 0xf8, 0x20, 0x40, 0x98, 0x28, 0xf0, 
    0xe8, 0x30, 0x80, 0x58, 0x38, 0xe0, 0x50, 0x88, 0x60, 0xb8, 
    0x8, 0xd0, 0xb0, 0x68, 0xd8, 0x0, 0x18, 0xc0, 0x70, 0xa8, 
    0xc8, 0x10, 0xa0, 0x78, 0xa8, 0x70, 0xc0, 0x18, 0x78, 0xa0, 
    0x10, 0xc8, 0xd0, 0x8, 0xb8, 0x60, 0x0, 0xd8, 0x68, 0xb0, 
    0x58, 0x80, 0x30, 0xe8, 0x88, 0x50, 0xe0, 0x38, 0x20, 0xf8, 
    0x48, 0x90, 0xf0, 0x28, 0x98, 0x40 };

crc crcFast(uint8_t* message, int nBytes);


